# playwright using uv

- タスクランナーはまだないっぽいなあ。
  https://github.com/astral-sh/uv/issues/5903

- 前は uv sync が必須だった気がするが、なんかコマンド打たなくても自然とできている
  - activate したからかな？ 前は activate してなかった気がしている

- uv tool
  - npm でいう dev deps
  - go でいう tool
  - pyproject に依存が書かれない？
  - uv tool list で確認する方式なのかな？

- uvx
  - npx 的な
  - パッケージを自動でダウンロード
  - これはグローバルかも
  - https://emily.space/posts/251023-uv

- uv export --format requirements.txt
  - これは相当便利
  - requirements.txt に export すると hash がずらーと並ぶ
  - これだと安全なのかな？
    - タグが書き変わってもOK or lock ファイル相当か を想像しているが、なんか微妙かも
    - そういう意味じゃない気がする
  ```
  greenlet==3.2.2 \
    --hash=sha256:00cd814b8959b95a546e47e8d589610534cfb71f19802ea8a2ad99d95d702057 \
    --hash=sha256:02a98600899ca1ca5d3a2590974c9e3ec259503b2d6ba6527605fcd74e08e207 \
  ```

- pyproject に設定項目がまだ生えてない
  - pyproject を触るのは後回し(慎重)にしているのかな

- プロダクションはまだ早いかも
  - task runner がないが、個人的には外せない
  - uv tool が pyproject にかかれないのも気になる

- とはいえ、python ~ venv ~ deps までフルフルで管理できるのは楽
  - 機能がもっと充実したら、uv がベストになる気がする

### Commands
```console
$ uv init uv-playwright-try
$ cd uv-playwright-try
$ uv python list
$ uv python pin 3.13
// .python-version を作る
$ uv python install 3.13
$ uv run python --version
Using CPython 3.13.3
Creating virtual environment at: .venv
Python 3.13.3

$ uv venv
Using CPython 3.13.3
Creating virtual environment at: .venv
Activate with: source .venv/bin/activate

$ source .venv/bin/activate

$ uv add playwright
// 消すには uv remove playwright

$ uv run playwright install
$ uv run main.py

$ uv tool install ruff
$ uv tool list
ruff v0.11.11
- ruff

$ uv run ruff format
1 file reformatted

$ uvx cowsay -t a
  _
| a |
  =
 \
  \
    ^__^
    (oo)\_______
    (__)\       )\/\
        ||----w |
        ||     ||

$ uv export --format requirements.txt
Resolved 5 packages in 1ms
# This file was autogenerated by uv via the following command:
#    uv export --format requirements.txt
greenlet==3.2.2 \
...
```

### Links
- https://speakerdeck.com/mickey_kubo/pythonpatukeziguan-li-uv-wan-quan-ru-men
